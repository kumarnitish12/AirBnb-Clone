<%- include('./partials/header') %>

<!-- Hero Section -->
<section class="hero">
  <div class="hero-content">
    <h1>Find your next getaway</h1>
    <p>Discover the perfect place to stay for your next adventure</p>
    
    <!-- Main Search Form -->
    <div class="search-box bg-white p-3 rounded shadow">
      <form class="row g-3" id="search-form" action="/search" method="GET">
        <div class="col-md-4">
          <label for="location" class="form-label">Location</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-geo-alt"></i></span>
            <input type="text" class="form-control" id="location" name="location" placeholder="Where are you going?">
          </div>
        </div>
        <div class="col-md-3">
          <label for="check-in" class="form-label">Check-in</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-calendar"></i></span>
            <input type="text" class="form-control" id="search-check-in" name="checkIn" placeholder="Add date">
          </div>
        </div>
        <div class="col-md-3">
          <label for="check-out" class="form-label">Check-out</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-calendar"></i></span>
            <input type="text" class="form-control" id="search-check-out" name="checkOut" placeholder="Add date">
          </div>
        </div>
        <div class="col-md-2">
          <label for="guests" class="form-label">Guests</label>
          <select class="form-select" id="guests" name="guests">
            <option value="1">1 guest</option>
            <option value="2">2 guests</option>
            <option value="3">3 guests</option>
            <option value="4">4 guests</option>
            <option value="5">5 guests</option>
            <option value="6">6+ guests</option>
          </select>
        </div>
        <div class="col-12 text-center">
          <button type="submit" class="btn btn-primary px-4 py-2">
            <i class="bi bi-search me-2"></i> Search
          </button>
        </div>
      </form>
    </div>
  </div>
</section>

<!-- Property Types -->
<section class="container mb-5">
  <h2 class="mb-4">Explore by Property Type</h2>
  <div class="property-type-pills">
    <div class="property-type-pill active" data-type="all">
      <i class="bi bi-house-door"></i> All Properties
    </div>
    <div class="property-type-pill" data-type="beach house">
      <i class="bi bi-water"></i> Beach Houses
    </div>
    <div class="property-type-pill" data-type="cabin">
      <i class="bi bi-tree"></i> Cabins
    </div>
    <div class="property-type-pill" data-type="luxury apartment">
      <i class="bi bi-building"></i> Luxury Apartments
    </div>
    <div class="property-type-pill" data-type="vacation home">
      <i class="bi bi-house"></i> Vacation Homes
    </div>
  </div>
</section>

<!-- Featured Properties -->
<section class="container mb-5">
  <h2 class="mb-4">Featured Places to Stay</h2>
  <div class="row">
    <% properties.forEach(property => { %>
      <div class="col-md-6 col-lg-3 mb-4 property-card-wrapper" data-type="<%= property.type %>" data-price="<%= property.pricePerNight %>" data-bedrooms="<%= property.bedrooms %>" data-amenities="<%= property.amenities.join(',') %>">
        <div class="property-card">
          <a href="/properties/<%= property.id %>">
            <img src="<%= property.images[0] %>" alt="<%= property.title %>" class="img-fluid">
          </a>
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start">
              <h5 class="card-title"><a href="/properties/<%= property.id %>"><%= property.title %></a></h5>
              <a href="#" onclick="toggleLike(this); return false;" class="text-dark fs-5">
                <i class="bi bi-heart"></i>
              </a>
            </div>
            <p class="property-location"><i class="bi bi-geo-alt"></i> <%= property.location %></p>
            <div class="d-flex justify-content-between align-items-center">
              <p class="property-price mb-0">$<%= property.pricePerNight %> <span>/ night</span></p>
              <div class="property-rating">
                <i class="bi bi-star-fill"></i>
                <span><%= property.rating %> (<%= property.reviewCount %>)</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    <% }) %>
  </div>
  
  <div class="text-center mt-4">
    <a href="/properties" class="btn btn-outline-primary px-4">View All Properties</a>
  </div>
</section>

<!-- Travel Destinations -->
<section class="container mb-5">
  <h2 class="mb-4">Popular Destinations</h2>
  <div class="row">
    <div class="col-md-4 mb-4">
      <div class="card">
        <img src="https://images.unsplash.com/photo-1511840636560-acee95b3a83f" class="card-img-top" alt="Malibu, California">
        <div class="card-body">
          <h5 class="card-title">Malibu, California</h5>
          <p class="card-text">Stunning beach houses with ocean views</p>
          <a href="/search?location=Malibu" class="btn btn-outline-primary">Explore</a>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-4">
      <div class="card">
        <img src="https://images.unsplash.com/photo-1512916194211-3f2b7f5f7de3" class="card-img-top" alt="New York City">
        <div class="card-body">
          <h5 class="card-title">New York, New York</h5>
          <p class="card-text">Luxury apartments in the heart of the city</p>
          <a href="/search?location=New+York" class="btn btn-outline-primary">Explore</a>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-4">
      <div class="card">
        <img src="https://images.unsplash.com/photo-1685122121710-c1bdbd9ae8ce" class="card-img-top" alt="Aspen, Colorado">
        <div class="card-body">
          <h5 class="card-title">Aspen, Colorado</h5>
          <p class="card-text">Cozy mountain cabins for your next retreat</p>
          <a href="/search?location=Aspen" class="btn btn-outline-primary">Explore</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Host Banner -->
<section class="container mb-5">
  <div class="p-5 rounded bg-light">
    <div class="row align-items-center">
      <div class="col-md-8">
        <h2>Become a Host</h2>
        <p class="lead">Earn extra income by sharing your space with travelers from around the world.</p>
        <a href="/auth/register" class="btn btn-primary mt-3">Get Started</a>
      </div>
      <div class="col-md-4">
        <img src="https://images.unsplash.com/photo-1618168140399-bed9cc74ab72" alt="Host your space" class="img-fluid rounded">
      </div>
    </div>
  </div>
</section>

<%- include('./partials/footer') %>
